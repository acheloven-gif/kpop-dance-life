# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: –ü–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –ù–æ–≤—ã–º –ì–æ–¥–æ–º

## ‚úÖ –ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–¥–∏—Ä–æ–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è (GameContext.tsx)
- **–°—Ç—Ä–æ–∫–∞ 539**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ç–µ–∫—Å—Ç –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫:
  - –ë—ã–ª–æ: `–†–é –†—ú–†—ï–†–Ü–°‚Äπ–†–π –†"–†—ï–†“ë–†—ï–†–π...`
  - –°—Ç–∞–ª–æ: `–° –ù–æ–≤—ã–º –ì–æ–¥–æ–º, ${npc.name}! –ü—É—Å—Ç—å –Ω–æ–≤—ã–π –≥–æ–¥ –ø—Ä–∏–Ω–µ—Å—ë—Ç –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ.`

- **–°—Ç—Ä–æ–∫–∞ 551**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ç–µ–∫—Å—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–∞—Ä–∫–∞:
  - –ë—ã–ª–æ: `–†–á –†—ó–°–Ç–†—ë–°–É–°‚Äπ–†¬ª–†¬∞–°–ã –†—ó–†—ï–†“ë–†¬∞–°–Ç–†—ï–†—î...`
  - –°—Ç–∞–ª–æ: `–Ø –ø—Ä–∏—Å–ª–∞–ª–∞ –ø–æ–¥–∞—Ä–æ–∫: ${giftMeta.name}.`

- **–°—Ç—Ä–æ–∫–∞ 3304 (birthday)**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–¥–∏—Ä–æ–≤–∫–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–Ω—è —Ä–æ–∂–¥–µ–Ω–∏—è:
  - –ë—ã–ª–æ: `–†–á –†—ó–°–Ç–†—ë–°–É–°‚Äπ–†¬ª–†¬∞–°–ã –†–Ö–†¬µ–†¬±–†—ï–†¬ª–°–ä–°‚Ç¨–†—ï–†‚Ññ –†—ó–†—ï–†“ë–†¬∞–°–Ç–†—ï–†—î...`
  - –°—Ç–∞–ª–æ: `–Ø –ø—Ä–∏—Å–ª–∞–ª–∞ –Ω–µ–±–æ–ª—å—à–æ–π –ø–æ–¥–∞—Ä–æ–∫: ${giftMeta.name}.`

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–∫—Ä—ã—Ç–æ–≥–æ —á–∞—Ç–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è (GameContext.tsx)
- **–°—Ç—Ä–æ–∫–∏ 519-527**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ NPC –∏–º–µ–µ—Ç –∑–∞–∫—Ä—ã—Ç—ã–π —á–∞—Ç:
  ```typescript
  if (npc.hasPrivateChat) {
    const relPoints = npc.relationshipPoints || 0;
    const isStranger = relPoints <= 10;
    const isEnemy = npc.enemyBadge;
    
    if (isStranger || isEnemy) {
      console.warn('Cannot send New Year greeting to closed chat');
      return false;
    }
  }
  ```
  - –¢–µ–ø–µ—Ä—å –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –∑–∞–∫—Ä—ã—Ç—ã–π —á–∞—Ç
  - –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `false` –≤–º–µ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è

### 3. –°–∫—Ä—ã—Ç–∞ –∫–Ω–æ–ø–∫–∞ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –∑–∞–∫—Ä—ã—Ç—ã—Ö —á–∞—Ç–∞—Ö (MessengerButton.tsx)
- **–°—Ç—Ä–æ–∫–∏ 655-679**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –∫–Ω–æ–ø–∫–∏ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è:
  - –ï—Å–ª–∏ —á–∞—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∏ –∏–≥—Ä–æ–∫ —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–∑–Ω–∞–∫–æ–º—Ü–µ–º –∏–ª–∏ –≤—Ä–∞–≥–æ–º, –∫–Ω–æ–ø–∫–∞ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è
  - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –∑–∞–∫—Ä—ã—Ç—ã–µ —á–∞—Ç—ã

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –≤ –ø—Ä–æ—Ñ–∏–ª–µ NPC (NPCProfile.tsx)
- **–°—Ç—Ä–æ–∫–∏ 237-268**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–∫—Ä—ã—Ç–æ–≥–æ —á–∞—Ç–∞:
  - –ü—Ä–∏ –∑–∞–∫—Ä—ã—Ç–æ–º —á–∞—Ç–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "–ß–∞—Ç –∑–∞–∫—Ä—ã—Ç" –≤–º–µ—Å—Ç–æ –∫–Ω–æ–ø–∫–∏ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è
  - –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–æ–º —á–∞—Ç–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ–±—ã—á–Ω–∞—è –∫–Ω–æ–ø–∫–∞ "–ü–æ–∑–¥—Ä–∞–≤–∏—Ç—å —Å –ù–ì"

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏
- ‚úÖ `npm run build` —É—Å–ø–µ—à–Ω–æ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–ª—Å—è
- –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è
- –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –¥–ª—è –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–µ, —Ç–∞–∫ –∏ –≤ –ø—Ä–æ—Ñ–∏–ª–µ NPC
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ:
  1. –í UI: –∫–Ω–æ–ø–∫–∞ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –∑–∞–∫—Ä—ã—Ç—ã—Ö —á–∞—Ç–æ–≤
  2. –ù–∞ –±—ç–∫–µ–Ω–¥–µ: —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `false`, –µ—Å–ª–∏ —á–∞—Ç –∑–∞–∫—Ä—ã—Ç
  3. –û–Ω–æ –¥–µ–π—Å—Ç–≤—É–µ—Ç –∫–∞–∫ –¥–≤–æ–π–Ω–∞—è –∑–∞—â–∏—Ç–∞ –ø—Ä–æ—Ç–∏–≤ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∑–∞–∫—Ä—ã—Ç—ã–µ —á–∞—Ç—ã
